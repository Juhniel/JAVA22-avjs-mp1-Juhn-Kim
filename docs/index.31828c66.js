let e;async function t(){const t=await fetch("https://highscore-9b9df-default-rtdb.europe-west1.firebasedatabase.app/highscores.json"),o=await t.json(),n=Object.entries(o);n.sort(((e,t)=>t[1].score-e[1].score));const r=document.getElementById("score-list");e?e.innerHTML="":(e=document.createElement("ol"),r.append(e));for(const[t,o]of n){const t=o.name,n=o.score,r=document.createElement("li");r.innerText=`${t} - Score: ${n}`,e.append(r)}}async function o(e,o){const n=await fetch("https://highscore-9b9df-default-rtdb.europe-west1.firebasedatabase.app/highscores.json"),r=await n.json(),c=Object.entries(r);let a=1/0,s=null;for(const[e,t]of c)t.score<a&&(a=t.score,s=e);e>a?(console.log("The new score is higher than the lowest score"),await async function(e,t,o){const n=`https://highscore-9b9df-default-rtdb.europe-west1.firebasedatabase.app/highscores/${o}.json`,r={name:e,score:t},c={method:"PATCH",body:JSON.stringify(r),headers:{"Content-type":"application/json"}},a=await fetch(n,c);await a.json()}(o,e,s),await t()):console.log("The new score is not high enough to enter the leaderboard")}const n=document.querySelector("#nameParagraph"),r=document.querySelector("#rpsContainer"),c=document.querySelector("#rockOption"),a=document.querySelector("#paperOption"),s=document.querySelector("#scissorOption"),i=document.querySelector("#nameButton"),l=document.querySelector("#winnerParagraph"),u=document.querySelector("#playerScore"),d=document.querySelector("#playerChoice"),p=document.querySelector("#computerScore"),h=document.querySelector("#computerChoiceParagraph"),m=document.querySelector("#playAgainButton"),y=document.querySelector("#popUpWindow");let f,S,T,g=0,w=0;const x=[c,a,s],b=["Rock","Paper","Scissor"];for(let e=0;e<x.length;e++)x[e].addEventListener("click",(()=>{f=e,S=Math.floor(3*Math.random()),q(x[f],x[S]),h.innerText=`Computer chose: ${b[S]}`,d.innerText=`Player chose: ${b[f]}`,1===w&&(y.style.cssText=" display: inline;",r.style.cssText="display: none;")}));async function q(e,n){let r;if(e===n?(u.innerText=`Player Score: ${g}`,p.innerText=`Computer Score: ${w}`,r="It's a tie!"):e===c&&n===s||e===s&&n===a||e===a&&n===c?(g++,u.innerText=`Player Score: ${g}`,r="You win!"):(w++,p.innerText=`Computer Score: ${w}`,o(g,T),r="You lose!"),3===g)l.innerText=void 0===T||""===T?"Player won the game!":`${T} won the game!`;else{if(3!==w)return l.innerText=r;l.innerText="Computer won the game!"}await t()}i.addEventListener("click",(e=>{e.preventDefault(),T=document.querySelector("#nameInput").value,n.innerText=`Welcome ${T}!`})),m.addEventListener("click",(e=>{e.preventDefault(),g=0,w=0,u.innerText=`Player Score: ${g}`,p.innerText=`Computer Score: ${w}`,l.innerText="",h.innerText="",y.style.cssText=" display: none;",r.style.cssText="display: flex;"})),q(),t();
//# sourceMappingURL=index.31828c66.js.map
